import{_ as s,o as a,c as n,O as l}from"./chunks/framework.24da11a5.js";const F=JSON.parse('{"title":"Installation de VirtualBox et création de deux machines virtuelles avec un Vagrantfile","description":"","frontmatter":{},"headers":[],"relativePath":"instalation_VirtualBox.md","filePath":"instalation_VirtualBox.md"}'),o={name:"instalation_VirtualBox.md"},p=l(`<h1 id="installation-de-virtualbox-et-creation-de-deux-machines-virtuelles-avec-un-vagrantfile" tabindex="-1">Installation de VirtualBox et création de deux machines virtuelles avec un Vagrantfile <a class="header-anchor" href="#installation-de-virtualbox-et-creation-de-deux-machines-virtuelles-avec-un-vagrantfile" aria-label="Permalink to &quot;Installation de VirtualBox et création de deux machines virtuelles avec un Vagrantfile&quot;">​</a></h1><h2 id="_1-installation-de-virtualbox" tabindex="-1">1. <strong>Installation de VirtualBox :</strong> <a class="header-anchor" href="#_1-installation-de-virtualbox" aria-label="Permalink to &quot;1. **Installation de VirtualBox :**&quot;">​</a></h2><ul><li>Rendez-vous sur le site officiel de VirtualBox (<a href="https://www.virtualbox.org/" target="_blank" rel="noreferrer">https://www.virtualbox.org/</a>) et téléchargez la version appropriée pour votre système d&#39;exploitation.</li><li>Suivez les instructions d&#39;installation fournies par le programme d&#39;installation de VirtualBox.</li><li>Une fois l&#39;installation terminée, lancez VirtualBox pour vous assurer qu&#39;il fonctionne correctement.</li></ul><h2 id="_2-creation-d-un-repertoire-de-travail" tabindex="-1">2. <strong>Création d&#39;un répertoire de travail :</strong> <a class="header-anchor" href="#_2-creation-d-un-repertoire-de-travail" aria-label="Permalink to &quot;2. **Création d&#39;un répertoire de travail :**&quot;">​</a></h2><ul><li><p>Créez un nouveau répertoire sur votre machine pour le projet de déploiement d&#39;application. Par exemple, &quot;mon_projet_de déploiement&quot;.</p></li><li><p>Ouvrez un terminal ou une invite de commandes et accédez au répertoire que vous venez de créer.</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">mkdir mon_projet_de_deploiement</span></span></code></pre></div></li></ul><h2 id="_3-initialisation-de-vagrant-dans-le-repertoire" tabindex="-1">3. <strong>Initialisation de Vagrant dans le répertoire :</strong> <a class="header-anchor" href="#_3-initialisation-de-vagrant-dans-le-repertoire" aria-label="Permalink to &quot;3. **Initialisation de Vagrant dans le répertoire :**&quot;">​</a></h2><ul><li><p>Dans le terminal, exécutez la commande suivante pour initialiser Vagrant dans votre répertoire de travail :</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">vagrant init</span></span></code></pre></div></li><li><p>Cette commande générera un fichier Vagrantfile, qui sera utilisé pour décrire la configuration de vos machines virtuelles.</p></li></ul><h2 id="_4-creation-d-un-fichier-de-credenciale" tabindex="-1">4. <strong>Création d&#39;un fichier de crédenciale :</strong> <a class="header-anchor" href="#_4-creation-d-un-fichier-de-credenciale" aria-label="Permalink to &quot;4. **Création d&#39;un fichier de crédenciale :**&quot;">​</a></h2><ul><li><p>Créez un nouveau fichier sur votre machine pour le projet de déploiement d&#39;application. Nommez-le <code>credentials.json</code> dans le même repertoire.</p></li><li><p>Insérez votre mot de passe et passphrase dans le fichier :</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  &quot;password&quot;: &quot;********&quot;,</span></span>
<span class="line"><span style="color:#A6ACCD;">  &quot;passphrase&quot;: &quot;*********&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span></code></pre></div></li></ul><h2 id="_5-configuration-du-vagrantfile" tabindex="-1">5. <strong>Configuration du Vagrantfile :</strong> <a class="header-anchor" href="#_5-configuration-du-vagrantfile" aria-label="Permalink to &quot;5. **Configuration du Vagrantfile :**&quot;">​</a></h2><ul><li><p>Ouvrez le fichier Vagrantfile généré à l&#39;étape précédente dans un éditeur de texte ou directement dans votr Ide.</p></li><li><p>Dans ce fichier, vous trouverez des commentaires expliquant les options de configuration.</p></li><li><p>Modifiez le contenu du fichier avec le fichier fourni.</p><details class="details custom-block"><summary>fichier</summary><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">Vagrant</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">configure</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">2</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">) </span><span style="color:#89DDFF;font-style:italic;">do</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;">config</span><span style="color:#89DDFF;">|</span></span>
<span class="line"><span style="color:#A6ACCD;">    config</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">vm</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">define </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">marster_serveur</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">do</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;">marster_serveur</span><span style="color:#89DDFF;">|</span></span>
<span class="line"><span style="color:#A6ACCD;">      marster_serveur</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">vm</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">box </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">bento/ubuntu-22.04</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">      marster_serveur</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">vm</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">network </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">private_network</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">ip</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">***.***.**.****</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">      marster_serveur</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">vm</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">provider </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">virtualbox</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">do</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;">vb</span><span style="color:#89DDFF;">|</span></span>
<span class="line"><span style="color:#A6ACCD;">        vb</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">name </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">marster_serveur</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">        vb</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">memory </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">2024</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">        vb</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">cpus </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">3</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">      end</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">        # Installation d</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">ANSIBLE</span></span>
<span class="line"><span style="color:#A6ACCD;">        marster_serveur</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">vm</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">provision </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">shell</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">inline</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&lt;&lt;-</span><span style="color:#A6ACCD;">SHELL</span></span>
<span class="line"><span style="color:#A6ACCD;">        # Installer les dépendances d</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Ansible</span></span>
<span class="line"><span style="color:#A6ACCD;">        sudo apt</span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">get update</span></span>
<span class="line"><span style="color:#A6ACCD;">        sudo apt</span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">get install </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">y software</span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">properties</span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">common</span></span>
<span class="line"><span style="color:#A6ACCD;">        sudo apt</span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">add</span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">repository </span><span style="color:#89DDFF;">--</span><span style="color:#A6ACCD;">yes </span><span style="color:#89DDFF;">--</span><span style="color:#A6ACCD;">update </span><span style="color:#FFCB6B;">ppa</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;">ansible</span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">ansible</span></span>
<span class="line"><span style="color:#A6ACCD;">        sudo apt</span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">get install </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">y ansible</span></span>
<span class="line"><span style="color:#A6ACCD;">        # Installer Ansistrano via Ansible Galaxy</span></span>
<span class="line"><span style="color:#A6ACCD;">        ansible</span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">galaxy install ansistrano</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">deploy ansistrano</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">rollback</span></span>
<span class="line"><span style="color:#A6ACCD;">      SHELL</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    end</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    config</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">vm</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">define </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">dev_serveur</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">do</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;">dev_serveur</span><span style="color:#89DDFF;">|</span></span>
<span class="line"><span style="color:#A6ACCD;">      dev_serveur</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">vm</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">box </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">bento/ubuntu-22.04</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">      dev_serveur</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">vm</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">network </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">private_network</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">ip</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">***.***.**.****</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">      dev_serveur</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">vm</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">provider </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">virtualbox</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">do</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;">vb</span><span style="color:#89DDFF;">|</span></span>
<span class="line"><span style="color:#A6ACCD;">        vb</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">name </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">dev_serveur</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">        vb</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">memory </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">5024</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">        vb</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">cpus </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">3</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">      end</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">      dev_serveur</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">vm</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">provision </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">shell</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">inline</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&lt;&lt;-</span><span style="color:#A6ACCD;">SHELL</span></span>
<span class="line"><span style="color:#A6ACCD;">      cat </span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">home</span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">deploy</span><span style="color:#89DDFF;">/.</span><span style="color:#A6ACCD;">ssh</span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">id_dev</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">pub </span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">home</span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">deploy</span><span style="color:#89DDFF;">/.</span><span style="color:#A6ACCD;">ssh</span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">authorized_keys</span></span>
<span class="line"><span style="color:#A6ACCD;">      SHELL</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    end</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    config</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">vm</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">synced_folder </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">.</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">/vagrant</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    config</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">vm</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">provision </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">shell</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">inline</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&lt;&lt;-</span><span style="color:#A6ACCD;">SHELL</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">      # Installer le paquet jq</span></span>
<span class="line"><span style="color:#A6ACCD;">      sudo apt</span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">get update</span></span>
<span class="line"><span style="color:#A6ACCD;">      sudo apt</span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">get install </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">y jq</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">      # Lire les variables depuis le fichier JSON</span></span>
<span class="line"><span style="color:#A6ACCD;">      password</span><span style="color:#89DDFF;">=</span><span style="color:#82AAFF;">$</span><span style="color:#A6ACCD;">(jq </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">r </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">.password</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">/vagrant/credentials.json</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">      passphrase</span><span style="color:#89DDFF;">=</span><span style="color:#82AAFF;">$</span><span style="color:#A6ACCD;">(jq </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">r </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">.passphrase</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">/vagrant/credentials.json</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">      # Créer l</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">utilisateur deploy</span></span>
<span class="line"><span style="color:#A6ACCD;">      adduser deploy </span><span style="color:#89DDFF;">--</span><span style="color:#A6ACCD;">disabled</span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">password </span><span style="color:#89DDFF;">--</span><span style="color:#A6ACCD;">gecos </span><span style="color:#89DDFF;">&quot;&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">      echo </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">deploy:$password</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> sudo chpasswd</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">      # Ajouter l</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">utilisateur deploy au groupe sudo</span></span>
<span class="line"><span style="color:#A6ACCD;">      usermod </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">aG sudo deploy</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">      # Générer la paire de clés SSH pour l</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">utilisateur deploy avec passphrase</span></span>
<span class="line"><span style="color:#A6ACCD;">      su </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> deploy </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">c </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">ssh-keygen -t rsa -N $passphrase -f ~/.ssh/id_dev</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">      # Créer un fichier authorized_keys et y ajouter la clé publique</span></span>
<span class="line"><span style="color:#A6ACCD;">      sudo </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">u deploy touch </span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">home</span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">deploy</span><span style="color:#89DDFF;">/.</span><span style="color:#A6ACCD;">ssh</span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">authorized_keys</span></span>
<span class="line"><span style="color:#A6ACCD;">      cat </span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">home</span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">deploy</span><span style="color:#89DDFF;">/.</span><span style="color:#A6ACCD;">ssh</span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">id_dev</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">pub </span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">home</span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">deploy</span><span style="color:#89DDFF;">/.</span><span style="color:#A6ACCD;">ssh</span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">authorized_keys</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    SHELL</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    config</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">vm</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">provision </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">shell</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">inline</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&lt;&lt;-</span><span style="color:#A6ACCD;">SHELL</span></span>
<span class="line"><span style="color:#A6ACCD;">      # Installer fish et vim</span></span>
<span class="line"><span style="color:#A6ACCD;">      sudo apt</span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">get update</span></span>
<span class="line"><span style="color:#A6ACCD;">      sudo apt</span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">get install </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">y fish vim</span></span>
<span class="line"><span style="color:#A6ACCD;">    SHELL</span></span>
<span class="line"><span style="color:#A6ACCD;">    # Installation de DOCKER</span></span>
<span class="line"><span style="color:#A6ACCD;">    config</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">vm</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">provision </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">shell</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">inline</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&lt;&lt;-</span><span style="color:#A6ACCD;">SHELL</span></span>
<span class="line"><span style="color:#A6ACCD;">      # Ajouter la clé GPG officielle de Docker</span></span>
<span class="line"><span style="color:#A6ACCD;">      curl </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">fsSL </span><span style="color:#FFCB6B;">https</span><span style="color:#89DDFF;">:</span><span style="color:#676E95;font-style:italic;">//download.docker.com/linux/ubuntu/gpg | sudo apt-key add -</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">      # Ajouter le référentiel Docker aux sources de paquets</span></span>
<span class="line"><span style="color:#A6ACCD;">      sudo add</span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">apt</span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">repository </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">deb [arch=amd64] https://download.docker.com/linux/ubuntu $(lsb_release -cs) stable</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">      # Installer Docker</span></span>
<span class="line"><span style="color:#A6ACCD;">      sudo apt</span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">get update</span></span>
<span class="line"><span style="color:#A6ACCD;">      sudo apt</span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">get install </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">y docker</span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">ce docker</span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">ce</span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">cli containerd</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">io</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">      # Ajouter l</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">utilisateur &quot;deploy&quot; au groupe &quot;docker&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">      sudo usermod </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">aG docker deploy</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">      # Démarrer le service Docker</span></span>
<span class="line"><span style="color:#A6ACCD;">      sudo systemctl start docker</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">      # Installation de Docker Compose</span></span>
<span class="line"><span style="color:#A6ACCD;">      sudo apt</span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">get install </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">y python3</span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">pip</span></span>
<span class="line"><span style="color:#A6ACCD;">      sudo pip3 install docker</span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">compose</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span></span>
<span class="line"><span style="color:#A6ACCD;">    SHELL</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    config</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">vm</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">provision </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">shell</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">inline</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&lt;&lt;-</span><span style="color:#A6ACCD;">SHELL</span></span>
<span class="line"><span style="color:#A6ACCD;">      # Mise à jour des packages sur les deux machines</span></span>
<span class="line"><span style="color:#A6ACCD;">      sudo apt</span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">get update</span></span>
<span class="line"><span style="color:#A6ACCD;">      sudo apt</span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">get upgrade </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">y</span></span>
<span class="line"><span style="color:#A6ACCD;">    SHELL</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">  end</span></span></code></pre></div></details><div class="warning custom-block"><p class="custom-block-title">N&#39;oubliez pas de modifier le contenue de ce fichier</p><ul><li>Ip des machines.</li></ul></div></li></ul><h2 id="_6-demarrage-des-machines-virtuelles" tabindex="-1">6. <strong>Démarrage des machines virtuelles :</strong> <a class="header-anchor" href="#_6-demarrage-des-machines-virtuelles" aria-label="Permalink to &quot;6. **Démarrage des machines virtuelles :**&quot;">​</a></h2><ul><li><p>Dans le terminal, exécutez la commande suivante pour télécharger et démarrer les machines virtuelles définies dans le Vagrantfile :</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">vagrant up</span></span></code></pre></div></li><li><p>Vagrant téléchargera l&#39;image de la machine virtuelle et configurera les paramètres selon les spécifications du Vagrantfile.</p></li><li><p>Une fois le processus terminé, vous aurez deux machines virtuelles en cours d&#39;exécution.</p></li></ul>`,13),e=[p];function t(r,c,D,y,i,C){return a(),n("div",null,e)}const u=s(o,[["render",t]]);export{F as __pageData,u as default};
